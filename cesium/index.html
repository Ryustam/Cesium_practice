<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <!-- Include the CesiumJS JavaScript and CSS files -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.90/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.90/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <style>
        @import url(../templates/bucket.css);
    </style>
</head>

<body>
    <div id="cesiumContainer" style="position: absolute;width: 100%; height: 100%; z-index: 500;">
        <script>
            // Your access token can be found at: https://cesium.com/ion/tokens.
            // This is the default access token from your ion account

            Cesium.Ion.defaultAccessToken =
                'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiZDUzOGM4MC02ZjAyLTQ2YTYtODMwYi04MzNhNzNlYWNkMGQiLCJpZCI6ODM5NzQsImlhdCI6MTY0NjAyNDM3NX0.4k9ULYOPI4R9OmapD5maUt3MXcrGo38n0gKp848nxEc';

            // Initialize the Cesium Viewer in the HTML element with the `cesiumContainer` ID.
            var viewer = new Cesium.Viewer('cesiumContainer', {
                requestRenderMode: true,
                maximumRenderTimeChange: Infinity,
                timeline: false,
                animation: false,
                baseLayerPicker: false,
                sceneModePicker: false,
                terrainProvider: Cesium.createWorldTerrain(),
                imageryProvider: Cesium.createWorldImagery()
            });
            viewer.scene.primitives.add(Cesium.createOsmBuildings());
            viewer.clock.currentTime = Cesium.JulianDate.fromIso8601('2020-09-01T16:23:19.06128571429871954Z');
            viewer.scene.globe.depthTestAgainstTerrain = true;
            


            var scene = viewer.scene;

            viewer.camera.flyTo({
                destination: Cesium.Cartesian3.fromDegrees(129.0756416, 35.1795543, 400),
                orientation: {
                    heading: Cesium.Math.toRadians(0.0),
                    pitch: Cesium.Math.toRadians(-15.0),
                }
            });

            var scene = viewer.scene;

            /*
            var entity = viewer.entities.add({
                label: {
                    show: true,
                    showBackground: true,
                    backgroundColor: Cesium.Color.BLACK,
                    font: '25px sans-serif',
                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,
                    verticalOrigin: Cesium.VerticalOrigin.TOP,
                    pixelOffset: new Cesium.Cartesian2(15, 0)
                }
            })
            */

            /*
            var eventhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);

            eventhandler.setInputAction(function (movement) {
                var cartesian = viewer.camera.pickEllipsoid(movement.endPosition, scene.globe.ellipsoid);
                if (cartesian) {
                    var cartographic = Cesium.Cartographic.fromCartesian(cartesian);
                    var longitude = Cesium.Math.toDegrees(cartographic.longitude).toFixed(2);
                    var latitude = Cesium.Math.toDegrees(cartographic.latitude).toFixed(2);

                    entity.position = cartesian;
                    entity.label.show = true;
                    entity.label.text = ;longitude;
                } else {
                    entity.label.show =false;
                }
            }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);
            */
            
            $(document).ready(function () {
                var element = document.getElementById("testDiv");
                element.innerText = Cesium.Math.toDegrees(cartographic.longitude).toFixed(2);
                //element.innerText = 'aaa';
            });
            
        </script>
    </div>
    <div id="testDiv"
        style="position: absolute; bottom: 2%; right: 1%; width: 10vw; ;height: 5vw; background-color: #fff; z-index: 501;">

    </div>
</body>

</html>